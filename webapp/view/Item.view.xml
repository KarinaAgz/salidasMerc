<mvc:View
    controllerName="logaligroup.mapeobapi.controller.Item"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    displayBlock="true">
    <Page
        id="page"
        title="{i18n>itemTitle}">
        <content>
            <f:SimpleForm
                id="SimpleFormItem"
                editable="true"
                layout="ResponsiveGridLayout"
                title="Posiciones (1 posición por visualización)"
                labelSpanXL="4"
                labelSpanL="4"
                labelSpanM="4"
                labelSpanS="12"
                adjustLabelSpan="false"
                emptySpanXL="0"
                emptySpanL="0"
                emptySpanM="0"
                emptySpanS="0"
                columnsXL="2"
                columnsL="2"
                columnsM="1"
                singleContainerFullSize="false">
                <f:content>
                    <Label
                        text="Material:"
                        design="Bold"
                        required="true"/>
                    <HBox>
                        <Input
                            id="material"
                            placeholder="Ingresa o escanea el código de barra"
                            value="{mainModel>/currentItem/material}"
                            width="100%"/>
                        <Button
                            icon="sap-icon://bar-code"
                            press="onScanMaterial"
                            class="sapUiSmallMarginBegin"/>
                    </HBox>

                    <Label
                        text="Cantidad:"
                        design="Bold"
                        required="true"/>
                    <Input
                        id="entryQnt"
                        placeholder="Ingresa la cantidad"
                        value="{mainModel>/currentItem/entry_qnt}"
                        type="Number"/>

                    <Label
                        text="Unidad de Medida:"
                        design="Bold"
                        required="true"/>
                    <Input
                        id="entryUom"
                        placeholder="Ingresa la unidad de medida"
                        value="{mainModel>/currentItem/entry_uom}"
                        change="onEntryUomChange"/>

                    <Label
                        text="Lote:"
                        design="Bold"/>
                    <Input
                        id="batch"
                        placeholder="Ingresa el lote"
                        value="{mainModel>/currentItem/batch}"/>

                    <Label
                        text="Centro:"
                        design="Bold"/>
                    <Input
                        id="plant"
                        placeholder="Ingresa el centro"
                        value="{mainModel>/currentItem/plant}"/>

                    <Label
                        text="Almacén:"
                        design="Bold"/>
                    <Input
                        id="stgeLoc"
                        placeholder="Ingresa el almacén"
                        value="{mainModel>/currentItem/stge_loc}"/>

                    <Label
                        text="Centro de Costo:"
                        design="Bold"/>
                    <Input
                        id="costcenter"
                        placeholder="Ingresa el centro de costo"
                        value="{mainModel>/currentItem/costcenter}"/>

                    <Label
                        text="Motivo:"
                        design="Bold"
                        visible="{= ${mainModel>/header/move_type} === '551'}"/>
                    <Select
                        id="moveReas"
                        visible="{= ${mainModel>/header/move_type} === '551'}"
                        selectedKey="{mainModel>/currentItem/move_reas}"
                        items="{motivoModel>/motivos}">
                        <core:Item
                            key="{motivoModel>key}"
                            text="{motivoModel>text}"/>
                    </Select>
                </f:content>
            </f:SimpleForm>
            <Link
                text="Entradas nuevas"
                press="onNewEntry"
                class="sapUiSmallMarginBegin sapUiSmallMarginBottom"/>
        </content>
        <footer>
            <Toolbar>
                <ToolbarSpacer/>
                <Button
                    text="GUARDAR"
                    type="Emphasized"
                    press="onSaveItem"/>
                <Button
                    text="CANCELAR"
                    press="onCancel"/>
            </Toolbar>
        </footer>
    </Page>
</mvc:View>