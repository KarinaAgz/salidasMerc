<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="itemsDialog"
        title="Seleccionar Ítem para Referencia {mainModel>/savedHeader/ref_doc_no}"
        contentWidth="1000px"
        afterClose=".onCloseItemsDialog"
    >
        <Table
            
            items="{mainModel>/ReferenceItems}"
            mode="SingleSelectMaster"
            growing="true"
            growingThreshold="10"
        >
            <columns>
                <Column>
                    <Text text="Material"/>
                </Column>
                <Column>
                    <Text text="Descripción"/>
                </Column>
                <Column>
                    <Text text="Cantidad"/>
                </Column>
                <Column>
                    <Text text="UM"/>
                </Column>
                <Column>
                    <Text text="Centro"/>
                </Column>
                <Column>
                    <Text text="Almacén"/>
                </Column>
                <Column>
                    <Text text="Lote Requerido"/>
                </Column>
                <Column width="100px">
                    <Text text="Acción"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                        <Text text="{mainModel>material}"/>
                        <Text text="{mainModel>txt_material}"/>
                        <Text text="{mainModel>cantidad}"/>
                        <Text text="{mainModel>um}"/>
                        <Text text="{mainModel>centro}"/>
                        <Text text="{mainModel>almacen}"/>
                        <Text text="{mainModel>isBatchRequired_txt}"/>
                        <Button
                            
                            press=".onProcesarItem"
                            type="Emphasized"
                            icon="sap-icon://inspection"
                            tooltip="Seleccionar este ítem"
                        />
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
        <beginButton>
            <Button
                text="Cancelar"
                type="Reject"
                press=".onCloseItemsDialog"
                icon="sap-icon://decline"
                tooltip="Cerrar diálogo"
            />
        </beginButton>
    </Dialog>
</core:FragmentDefinition>
